"use strict";var e={};function t(t,n,i){void 0===e[t]&&(e[t]=Object.create(null)),e[t][n]=i}function n(t,n){if(void 0!==e[t])for(var i in e[t])e[t][i](n)}function i(e){return"imgs/icons/Apps/"+e}var o={settings:{name:"settings",productName:"Settings",icon:i("settings.png")},notepad:{name:"notepad",productName:"NotePad",icon:i("notepad.png")},explorer:{name:"explorer",productName:"File Explorer",icon:i("explorer.png")},word:{name:"word",productName:"Word",icon:i("word.png")},powerpoint:{name:"powerpoint",productName:"PowerPoint",icon:i("powerpoint.png")},onenote:{name:"onenote",productName:"OneNote",icon:i("onenote.png")},mail:{name:"mail",productName:"Mail",icon:i("mail.png")},todo:{name:"todo",productName:"To Do",icon:i("todo.png")},store:{name:"store",productName:"Store",icon:i("store.png")},photos:{name:"photos",productName:"Photos",icon:i("photos.png")},yourphone:{name:"yourphone",productName:"Your Phone",icon:i("yourphone.png")},whiteboard:{name:"whiteboard",productName:"White Board",icon:i("whiteboard.png")},calculator:{name:"calculator",productName:"Calculator",icon:i("calculator.png")},spotify:{name:"spotify",productName:"Spotify",icon:i("spotify.png")},twitter:{name:"twitter",productName:"Twitter",icon:i("twitter.png")},vscode:{name:"vscode",productName:"VS Code",icon:i("vscode.png")},terminal:{name:"terminal",productName:"Terminal",icon:i("terminal.png")},github:{name:"github",productName:"GitHub",icon:i("github.png")},discord:{name:"discord",productName:"Discord",icon:i("discord.png")}},a=Object.keys(o).map((function(e){return o[e]}));function s(e,t){return e.name>t.name?1:e.name<t.name?-1:0}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){null!=t&&(t instanceof HTMLElement?e.appendChild(t):t instanceof Array?c(e,t):e.appendChild(document.createTextNode(t.toString())))}function c(e,t){t instanceof Array?t.forEach((function(t){l(e,t)})):l(e,t)}function d(e,t,n){var i=document.createElement(e);if(t){var o=t;for(var a in o)if("style"===a){var s=o[a];for(var r in s)r.indexOf("-")>-1?i.style.setProperty(r,s[r]):i.style[r]=s[r]}else a.indexOf("-")>-1||a.indexOf(":")>-1?i.setAttribute(a,o[a]):i[a]=o[a]}return n&&c(i,n),i}for(var u=[],m=1;m<=22;m++){var h="IMG"+m+".jpg";u.push({name:h,path:"imgs/Wallpapers/"+h,thumbnailPath:"imgs/Wallpapers/Thumbnails/"+h})}var f={darktheme:!1,transparency:!1,backgroundImage:u[15].path,volume:100,brightness:100,nightlight:!1};try{var p=localStorage.getItem("preferences");p&&(f=JSON.parse(p))}catch(e){}function v(e){var t;if("string"==typeof e)return(t={})[e]=f[e],t;if(e instanceof Array){for(var n={},i=0;i<e.length;i++){var o=e[i];n[o]=f[o]}return n}return f}function w(e){f=r({},f,e),localStorage.setItem("preferences",JSON.stringify(f))}function g(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function x(e){void 0===e&&(e=8);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var y=/webkit/.test(navigator.userAgent.toLowerCase());function b(e){return e.substring(e.lastIndexOf("."),e.length)}function k(e){return e.substring(e.lastIndexOf("/")+1,e.length)}function N(e){document.documentElement.classList[e?"add":"remove"]("dark"),w({darktheme:e}),n("theme-change",e)}function z(e){var t=v("darktheme").darktheme;N(!t),"function"==typeof e&&e(!t)}function M(e){document.documentElement.classList[e?"add":"remove"]("glass"),w({transparency:e}),n("transparency-change",e)}function L(){M(!v("transparency").transparency)}var T={window:{titlebar:{buttons:{minimize:"Minimize",maximize:"Restore Down",maximizeDown:"Maximize",close:"Close"}}}},C='\n<svg aria-hidden="true" version="1.1" width="10" height="10">\n<path d="m 2,1e-5 0,2 -2,0 0,8 8,0 0,-2 2,0 0,-8 z m 1,1 6,0 0,6 -1,0 0,-5 -5,0 z m -2,2 6,0 0,6 -6,0 z"></path>\n</svg>\n',I='\n<svg aria-hidden="true" version="1.1" width="10" height="10">\n<path d="M 0,0 0,10 10,10 10,0 Z M 1,1 9,1 9,9 1,9 Z"></path>\n</svg>\n';function D(e,t,n,i,o){var a=n,s=i;t.addEventListener("mousedown",(function(t){var n=window.getComputedStyle(e);d=parseInt(n.left),u=parseInt(n.top),m=e.offsetWidth,h=e.offsetHeight,v=parseInt(n.minHeight),w=parseInt(n.minWidth),l=t.clientX,c=t.clientY,window.addEventListener("mousemove",g,!1),window.addEventListener("mouseup",x,!1);var i=t.currentTarget.dataset.resize,a="default";"t"===i&&(r=["t"],a="ns-resize"),"l"===i&&(r=["l"],a="ew-resize"),"b"===i&&(r=["b"],a="ns-resize"),"r"===i&&(r=["r"],a="ew-resize"),"tl"===i&&(r=["t","l"],a="nw-resize"),"bl"===i&&(r=["b","l"],a="ne-resize"),"br"===i&&(r=["b","r"],a="nw-resize"),"tr"===i&&(r=["t","r"],a="ne-resize"),e.classList.add("no-pointer-events"),document.body.style.cursor=a,o&&"function"==typeof o.onResizeStart&&o.onResizeStart()}),!1);var r=[],l=0,c=0,d=0,u=0,m=0,h=0,f=0,p=0,v=0,w=0;function g(t){var n=t.clientX-l+f,i=t.clientY-c+p;f=0,p=0,l=t.clientX,c=t.clientY;for(var g=i,x=n,y=0;y<r.length;y++){var b=r[y];"t"===b&&(h-g<v?p=g-(i=h-v):u+g<void 0&&(p=g-(i=void 0-u)),u+=i,h-=i,a&&(m=Math.round(h*s))),"l"===b&&(m-x<w?f=x-(n=m-w):d+x<void 0&&(f=x-(n=void 0-d)),d+=n,m-=n,a&&(h=Math.round(m/s))),"b"===b&&(h+g<v?p=g-(i=v-h):u+h+g>void 0&&(p=g-(i=void 0-u-h)),h+=i,a&&(m=Math.round(h*s))),"r"===b&&(m+x<w?f=x-(n=w-m):d+m+x>void 0&&(f=x-(n=void 0-d-m)),m+=n,a&&(h=Math.round(m/s)))}e.style.top=u+"px",e.style.left=d+"px",e.style.width=m+"px",e.style.height=h+"px",o&&"function"==typeof o.onResize&&o.onResize()}function x(){f=0,p=0,o&&"function"==typeof o.onResizeEnd&&o.onResizeEnd(),e.classList.remove("no-pointer-events"),document.body.style.cursor="default",window.removeEventListener("mousemove",g,!1),window.removeEventListener("mouseup",x,!1)}return{setAspectRatio:function(e){s=e},setKeepAspectRatio:function(e){a=e}}}var H,A,B,S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],j=["January","February","March","April","May","June","July","August","September","October","November","December"],O=function(){return"var(--window-icon-color)"},V='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="'+O()+'"><path d="M12 16c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4zm0-6c1.084 0 2 .916 2 2s-.916 2-2 2-2-.916-2-2 .916-2 2-2z"></path><path d="m2.845 16.136 1 1.73c.531.917 1.809 1.261 2.73.73l.529-.306A8.1 8.1 0 0 0 9 19.402V20c0 1.103.897 2 2 2h2c1.103 0 2-.897 2-2v-.598a8.132 8.132 0 0 0 1.896-1.111l.529.306c.923.53 2.198.188 2.731-.731l.999-1.729a2.001 2.001 0 0 0-.731-2.732l-.505-.292a7.718 7.718 0 0 0 0-2.224l.505-.292a2.002 2.002 0 0 0 .731-2.732l-.999-1.729c-.531-.92-1.808-1.265-2.731-.732l-.529.306A8.1 8.1 0 0 0 15 4.598V4c0-1.103-.897-2-2-2h-2c-1.103 0-2 .897-2 2v.598a8.132 8.132 0 0 0-1.896 1.111l-.529-.306c-.924-.531-2.2-.187-2.731.732l-.999 1.729a2.001 2.001 0 0 0 .731 2.732l.505.292a7.683 7.683 0 0 0 0 2.223l-.505.292a2.003 2.003 0 0 0-.731 2.733zm3.326-2.758A5.703 5.703 0 0 1 6 12c0-.462.058-.926.17-1.378a.999.999 0 0 0-.47-1.108l-1.123-.65.998-1.729 1.145.662a.997.997 0 0 0 1.188-.142 6.071 6.071 0 0 1 2.384-1.399A1 1 0 0 0 11 5.3V4h2v1.3a1 1 0 0 0 .708.956 6.083 6.083 0 0 1 2.384 1.399.999.999 0 0 0 1.188.142l1.144-.661 1 1.729-1.124.649a1 1 0 0 0-.47 1.108c.112.452.17.916.17 1.378 0 .461-.058.925-.171 1.378a1 1 0 0 0 .471 1.108l1.123.649-.998 1.729-1.145-.661a.996.996 0 0 0-1.188.142 6.071 6.071 0 0 1-2.384 1.399A1 1 0 0 0 13 18.7l.002 1.3H11v-1.3a1 1 0 0 0-.708-.956 6.083 6.083 0 0 1-2.384-1.399.992.992 0 0 0-1.188-.141l-1.144.662-1-1.729 1.124-.651a1 1 0 0 0 .471-1.108z"></path></svg>\n',W='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="'+O()+'" fill="none" stroke-linecap="round">\n  <circle cx="12" cy="17" r="1" style="fill: '+O()+'" />\n  <path d="M9.172 14a4 4 0 0 1 5.656 0" />\n  <path d="M6.343 12a8 8 0 0 1 11.314 0" />\n  <path d="M3.515 9.5c4.686 -4.687 12.284 -4.687 17 0" />\n</svg>\n',P='\n<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke="'+O()+'"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>\n',U='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" fill="none" stroke-linejoin="round">\n<rect x="5.5" y="7.5" width="14" height="9" stroke="'+O()+'"/>\n<rect x="7" y="9" width="11" height="6" fill="'+O()+'"/>\n<rect x="19.5" y="10" width="1.5" height="4" fill="'+O()+'"/>\n</svg>\n',F='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" fill="none" stroke="'+O()+'" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n<path d="M7 6a7.75 7.75 0 1 0 10 0" />\n<line x1="12" y1="4" x2="12" y2="12" />\n</svg>\n',Y='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="'+O()+'" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n<polyline points="6 15 12 9 18 15" />\n</svg>\n',X='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="'+O()+'" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n<polyline points="9 6 15 12 9 18" />\n</svg>\n ',Z='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="'+O()+'" fill="none" stroke-linecap="round" stroke-linejoin="round">\n  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n  <polyline points="15 6 9 12 15 18" />\n</svg>\n ',J='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="'+O()+'" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n<polyline points="7 8 17 16 12 20 12 4 17 8 7 16" />\n</svg>\n',K='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="'+O()+'" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n<path d="M16 10h4a2 2 0 0 1 0 4h-4l-4 7h-3l2 -7h-4l-2 2h-3l2 -4l-2 -4h3l2 2h4l-2 -7h3z" />\n</svg>\n',G='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="'+O()+'" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n<path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />\n</svg>\n',q='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="'+O()+'" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n<circle cx="12" cy="12" r="4" style="fill: '+O()+'"/>\n<circle cx="12" cy="12" r="9"/>\n</svg>\n',Q='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="'+O()+'"\n  stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">\n  <circle cx="12" cy="12" r="3"></circle>\n  <line x1="12" y1="1" x2="12" y2="5"></line>\n  <line x1="12" y1="19" x2="12" y2="23"></line>\n  <line x1="4" y1="4" x2="7" y2="7"></line>\n  <line x1="17" y1="17" x2="20" y2="20"></line>\n  <line x1="1" y1="12" x2="5" y2="12"></line>\n  <line x1="19" y1="12" x2="23" y2="12"></line>\n  <line x1="4" y1="20" x2="7" y2="17"></line>\n  <line x1="17" y1="7" x2="20" y2="4"></line>\n</svg>\n',_='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="'+O()+'"\nstroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">\n<circle cx="12" cy="12" r="5"></circle>\n<circle cx="10" cy="11" r="2" fill="'+O()+'"></circle>\n<line x1="12" y1="1" x2="12" y2="3"></line>\n<line x1="12" y1="21" x2="12" y2="23"></line>\n<line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>\n<line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>\n<line x1="1" y1="12" x2="3" y2="12"></line>\n<line x1="21" y1="12" x2="23" y2="12"></line>\n<line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>\n<line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>\n</svg>\n',$='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"\nstroke="'+O()+'" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">\n<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6">\n</path>\n<line x1="2" y1="20" x2="2.01" y2="20"></line>\n</svg>\n',ee='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" stroke="'+O()+'">\n<rect x="3" y="3" width="18" height="18" />\n<line x1="6" x2="10" y1="10" y2="6" />\n<line x1="6" x2="18" y1="18" y2="6" />\n<line x1="14" x2="18" y1="18" y2="14" />\n</svg>\n';function te(e,t){n("create-window",{appName:e,args:t})}function ne(){A&&clearTimeout(A)}function ie(){A&&clearTimeout(A),A=setTimeout((function(){oe()}),500)}function oe(){var e;null==(e=H)||e.remove(),H=void 0}function ae(e,t){var n=Object.create(null);return n.className="taskbar-app-item-icon w-full h-full flex items-center content-center","svg"===t?n.innerHTML=e:(n.className+=" image-icon",n.style||(n.style=Object.create(null)),n.style.backgroundImage='url("'+e+'")',n.style.pointerEvents="none"),n}function se(e,t){var n=Object.create(null);n.title=e.productName,n.className="taskbar-app-item";var i=ae(e.icon,e.iconType);return n.onmousedown=function(e){return e.stopImmediatePropagation()},n.onclick=null==t?void 0:t.onclick,{element:d("div",n,d("div",i))}}function re(e,t){var i,o=[],a=Object.create(null);a.className="taskbar-app-item";var s,r=ae(e.icon,e.iconType);function l(){o.length?s.classList.add("active"):s.classList.remove("active")}return a.onmousedown=function(e){e.stopPropagation(),n("close-popup")},a.onmouseover=function(){o.length&&(ne(),function(e,t){if(H instanceof HTMLDivElement)return H.innerHTML="",void r();function i(e){n("view-window",{id:e}),n("hide-popup")}function o(e){a(e),n("show-popup")}function a(e){n("restore-view",{id:e})}function s(e){e.show(),e.focus(),oe(),a()}function r(){var n=e.map((function(e){var t=parseInt(e.element.style.width),n=parseInt(e.element.style.height),r=e.element.cloneNode(!0);r.classList.add("taskbar-app-thumbnail-content");var l=120/n;return l*t>200&&(l=200/t),r.style.transform="scale("+l+")",{container:d("div",{title:e.getTitle(),className:"taskbar-app-thumbnail"+(e.isFocused()?" active":""),onmouseover:i.bind(null,e.id),onmouseout:o.bind(null,e.id)},[d("div",{className:"taskbar-app-thumbnail-inner relative w-full h-full fade-in",onclick:s.bind(null,e)},r),d("div",{title:"Close",className:"taskbar-app-thumbnail-close-button flex content-center items-center",innerHTML:'\n<svg aria-hidden="true" version="1.1" width="10" height="10">\n<path d="M 0,0 0,0.7 4.3,5 0,9.3 0,10 0.7,10 5,5.7 9.3,10 10,10 10,9.3 5.7,5 10,0.7 10,0 9.3,0 5,4.3 0.7,0 Z"></path>\n</svg>\n',onclick:function(){e.close(),oe(),a()}})]),thumbnail:r}}));H&&c(H,n.map((function(e){return e.container})));var r=0;n.forEach((function(e){var t=e.thumbnail.getBoundingClientRect();e.container.style.width=t.width+"px",e.container.style.height=t.height+"px",t.height>r&&(r=t.height)})),function(e){if(H){var n=H.getBoundingClientRect(),i=Math.round(t.left+t.width/2-n.width/2);H.style.bottom="50px",H.style.left=i+"px",H.style.height=e+30+"px"}}(r)}B&&clearTimeout(B),B=setTimeout((function(){H=d("div",{className:"taskbar-app-thumbnails flex",onmouseover:ne,onmouseleave:ie}),document.body.appendChild(H),r()}),500)}(o.map((function(e){return e.app})),i.getBoundingClientRect()))},a.onmouseleave=function(){o.length&&ie()},a.onclick=function(){if(0===o.length)te(e.name);else if(1===o.length){oe();var t=o[0];t.app.isVisible()?t.app.isFocused()?t.app.hide():t.app.focus():(t.app.show(),t.app.focus())}},{element:i=d("div",a,[d("div",r),s=d("div",{className:"taskbar-app-item-status"})]),addInstance:function(e,t){o.push({name:e,active:!0,app:t}),l()},removeInstance:function(e){var n=o.findIndex((function(t){return t.name===e}));n>-1&&(o.splice(n,1),0===o.length&&null!=t&&t.onRemove&&t.onRemove()),l()},getInstances:function(){return o},setActive:function(e){setTimeout((function(){i.classList.add("active")}),0)},removeActive:function(e){setTimeout((function(){i.classList.remove("active")}),0)},remove:function(){i.remove()}}}function le(e,i,o){var a="popup"+x(32),s="popup dropdown-box",r=!1,c={};e.className&&(s+=" "+e.className),e.width&&(c.width=e.width+"px",c.height=e.height+"px");var u=d("div");function m(){u=d("div",{tabIndex:-1,className:s,style:c},d("div",{className:"popup-inner relative w-full h-full"},i)),l(document.body,u),n("blur-all-window"),u.focus(),document.addEventListener("mousedown",f,!1),r=!0,o&&o.onShow&&o.onShow()}function h(){u.remove(),document.removeEventListener("mousedown",f,!1),r=!1,o&&o.onHide&&o.onHide()}function f(e){u.contains(e.target)||h()}function p(){u&&u.classList.add("hidden")}function v(){u&&u.classList.remove("hidden")}return t("close-popup",a,(function(e){r&&a!==e&&h()})),t("show-popup",a,(function(){v()})),t("hide-popup",a,(function(){p()})),{element:u,id:a,show:m,close:h,visible:v,hide:p,toggleShow:function(){r?h():m()}}}var ce=function(){function e(e){var t=void 0===e?{}:e,n=t.startDate,i=t.endDate,o=void 0===i?null:i,a=t.siblingMonths,s=void 0!==a&&a,r=t.weekNumbers,l=void 0!==r&&r,c=t.weekStart,d=void 0===c?0:c;this.startDate=void 0===n?null:n,this.endDate=o,this.siblingMonths=s,this.weekNumbers=l,this.weekStart=d}var t=e.prototype;return t.getCalendar=function(t,n){var i=new Date(Date.UTC(t,n,1,0,0,0,0));t=i.getUTCFullYear(),n=i.getUTCMonth();for(var o,a,s,r,l=[],c=i.getUTCDay(),d=-(7-this.weekStart+c)%7,u=e.daysInMonth(t,n),m=(u-d)%7,h=e.daysInMonth(t,n-1),f=d,p=!1,v=null,w=u-f+(0!==m?7-m:0)+d;f<w;)o=((f<1?7+f:f)+c)%7,(a=f+1)<1||a>u?this.siblingMonths?(a<1?(r=t,(s=n-1)<0&&(s=11,r--),a=h+a):a>u&&(r=t,(s=n+1)>11&&(s=0,r++),a=f-u+1),void 0!==s&&void 0!==r&&(p={day:a,weekDay:o,month:s,year:r,siblingMonth:!0})):p=!1:p={day:a,weekDay:o,month:n,year:t},p&&this.weekNumbers&&(null===v?v=e.calculateWeekNumber(p):1===o&&52===v?v=1:1===o&&v++,p.weekNumber=v),p&&this.startDate&&(p.selected=this.isDateSelected(p)),l.push(p),f++;return l},t.isDateSelected=function(e){return!(!this.startDate||(e.year!==this.startDate.year||e.month!==this.startDate.month||e.day!==this.startDate.day)&&(!this.endDate||e.year===this.startDate.year&&e.month===this.startDate.month&&e.day<this.startDate.day||e.year===this.endDate.year&&e.month===this.endDate.month&&e.day>this.endDate.day||e.year===this.startDate.year&&e.month<this.startDate.month||e.year===this.endDate.year&&e.month>this.endDate.month||e.year<this.startDate.year||e.year>this.endDate.year))},t.setStartDate=function(e){this.startDate=e},t.setEndDate=function(e){this.endDate=e},t.setDate=function(e){return this.setStartDate(e)},e.diff=function(e,t){var n=new Date(Date.UTC(e.year,e.month,e.day,0,0,0,0)),i=new Date(Date.UTC(t.year,t.month,t.day,0,0,0,0));return Math.ceil((n.getTime()-i.getTime())/864e5)},e.interval=function(t,n){return Math.abs(e.diff(t,n))+1},e.compare=function(e,t){if("object"!=typeof e||"object"!=typeof t||null===e||null===t)throw new TypeError("dates must be objects");return e.year<t.year?-1:e.year>t.year?1:e.month<t.month?-1:e.month>t.month?1:e.day<t.day?-1:e.day>t.day?1:0},e.daysInMonth=function(e,t){return new Date(e,t+1,0).getDate()},e.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},e.calculateWeekNumber=function(e){var t=new Date(Date.UTC(e.year,e.month,e.day,0,0,0,0)),n=new Date(t.valueOf()),i=(t.getUTCDay()+6)%7;n.setUTCDate(n.getUTCDate()-i+3);var o=n.valueOf();return n.setUTCMonth(0,1),4!==n.getUTCDay()&&n.setUTCMonth(0,1+(4-n.getUTCDay()+7)%7),1+Math.ceil((o-n.getTime())/6048e5)},e}();function de(){var e,t;return le({className:"calendar-popup"},d("div",{className:"calendar-content"},[e=d("div",{className:"calendar-month"}),t=d("div",{className:"calendar-items"})]),{onShow:function(){t.innerHTML="";var n=new ce({siblingMonths:!0}),i=new Date;e.innerHTML=j[i.getUTCMonth()];for(var o=S.map((function(e){return e.substring(0,2)})),a=0;a<o.length;a++)t.appendChild(d("div",{className:"calendar-day -weekday"},d("div",{className:"w-full h-full flex items-center content-center"},o[a])));n.getCalendar(i.getUTCFullYear(),i.getUTCMonth()).forEach((function(e){var n=d("div",{className:"calendar-day"+(e&&e.siblingMonth?" -sibling-month":"")},d("div",{className:"calendar-day-inner w-full h-full flex items-center content-center"+(e&&i.getDate()===e.day&&!e.siblingMonth?" active":"")},e?e.day.toString():""));t.appendChild(n)}))}})}var ue=de();function me(e){return E[e.getDay()]+", "+R[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function he(e,t){void 0===t&&(t=!1);var n=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),a=n>=12?"PM":"AM";return o=o<10?"0"+o:o,(n=(n%=12)||12)+":"+(i=i<10?"0"+i:i)+(t?":"+o:"")+" "+a}function fe(){var e,t,n,i;function o(){var o=new Date,a=o.getSeconds();e.style.transform="rotate("+(a/60*360+90)+"deg)";var s=o.getMinutes();t.style.transform="rotate("+(s/60*360+a/60*6+90)+"deg)";var r=o.getHours();n.style.transform="rotate("+(r/12*360+s/60*30+90)+"deg)",i.textContent=he(o,!0)}return le({className:"clock-popup"},d("div",{className:"clock-container flex"},[d("div",{className:"clock-inner"},[d("div",{className:"clock"},[d("div",{className:"outer-clock-face"},[d("div",{className:"clock-marking clock-marking-one"}),d("div",{className:"clock-marking clock-marking-two"}),d("div",{className:"clock-marking clock-marking-three"}),d("div",{className:"clock-marking clock-marking-four"}),d("div",{className:"inner-clock-face"},[n=d("div",{className:"clock-hand clock-hour-hand"}),t=d("div",{className:"clock-hand clock-min-hand"}),e=d("div",{className:"clock-hand clock-second-hand"})])])]),i=d("div",{className:"clock-time"})]),d("div",{className:"clock-divider"}),d("div",{className:"alarm-container flex flex-col flex-1 w-full"},[d("div",{className:"alarm-heading"},"Alarms"),d("div",{className:"alarm-items flex items-center content-center flex-1"},"No alarms")])]),{onShow:function(){o(),setInterval(o,500)},onHide:function(){clearInterval(void 0)}})}var pe=fe();function ve(){var e,t,i=v("nightlight").nightlight,o=d("div",{className:"screen"},[e=d("div",{className:"screen-bright-overlay w-full h-full"}),t=d("div",{className:"screen-nightlight w-full h-full"+(i?" active":"")})]);function a(e){t.classList[(i=e)?"add":"remove"]("active"),w({nightlight:i}),n("night-light-change",i)}return l(document.body,o),{setBrightness:function(t){var i=function(e,t){return Number(Math.round(parseFloat(e+"e2"))+"e-2")}(.7-t/100*.7);e.style.opacity=i.toString(),n("brightness-change",t)},setNightLight:a,toogleNightLight:function(){a(!i)}}}var we=ve();function ge(e){var t,n,i,o,a,s,r=!1,l={top:0,left:0,width:0,height:0};function c(){l=i.getBoundingClientRect()}function u(e,t){var n=e-l.left;n<0?n=0:n>l.width&&(n=l.width),t(n/l.width*100)}function m(n){"number"==typeof n&&u(n,(function(n){t=n,o.style.width=n+"%",a.style.width=n+"%","function"==typeof e.onChange?e.onChange(n,(function(t){e.showBagde&&(s.textContent=t.toString())})):e.showBagde&&(s.textContent=Math.round(n).toString())}))}function h(e){r&&m(e.x)}function f(){r=!1,n.classList.remove("hoding"),"function"==typeof e.onRelease&&e.onRelease(t),document.removeEventListener("mousemove",h,!1),document.removeEventListener("mouseup",f,!1)}return{element:n=d("div",{className:"slider",onmousedown:function(t){r=!0,n.classList.add("hoding"),c(),m(t.x),"function"==typeof e.onHoding&&e.onHoding(),document.addEventListener("mousemove",h,!1),document.addEventListener("mouseup",f,!1)},onmouseover:function(){c()},onmousemove:function(t){r||u(t.x,(function(t){t||(t=0),a.style.width=t+"%","function"==typeof e.onHoverMove?e.onHoverMove(t,(function(t){e.showBagde&&(s.textContent=t.toString())})):e.showBagde&&(s.textContent=Math.round(t).toString())}))},onmouseleave:function(){a.style.width="0%"}},i=d("div",{className:"slider-inner"},[o=d("div",{className:"slider-thumb-primary"},d("div",{className:"slider-thumb-primary-inner"})),a=d("div",{className:"slider-thumb-secondary"},d("div",{className:"slider-thumb-secondary-inner"},e.showBagde?s=d("div",{className:"slider-thumb-secondary-text"}):null))])),update:function(e){e>100&&(e=100),r||(o.style.width=e+"%")}}}function xe(e){var t=e.active,n=d("div",{className:"action-center-button"+(t?" active":"")},[d("div",{className:"action-center-button-icon",innerHTML:e.icon,onclick:function(){e.disableActiveOnClick||(t=!t,"function"==typeof e.onclick&&e.onclick())}}),d("div",{className:"action-center-button-text"},e.text)]);return{element:n,setActive:function(e){t=e,function(e){n.classList[e?"add":"remove"]("active")}(e)}}}function ye(){var e=v(["darktheme","nightlight","brightness","volume","transparency"]),n=e.darktheme,i=e.nightlight,o=e.brightness,a=e.volume,s=e.transparency,r=xe({icon:W,text:"Wifi"}),l=xe({icon:J,text:"Bluetooth"}),c=xe({icon:K,text:"Airplan Mode"}),u=xe({active:n,icon:'\n<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" class="no-stroke">\n  <circle cx="12" cy="12" r="9" fill="#000" />\n  <circle cx="12" cy="12" r="8" fill="#fff" />\n  <path d="M12 21A2 2 1 0 1 12 3" fill="#000" />\n</svg>\n',text:"Dark Theme",onclick:function(){z()}}),m=xe({icon:G,text:"Focus Assist"}),h=xe({icon:q,text:"Location"}),f=xe({active:i,icon:_,text:"Night Light",onclick:function(){we.toogleNightLight()}}),p=xe({icon:$,text:"Connect"}),g=xe({active:s,icon:ee,text:"Transparency",onclick:function(){L()}});t("theme-change","actionCenter",(function(e){u.setActive(e)}));var x=!1,y=ge({showBagde:!0,onHoding:function(){x=!0},onChange:function(e,t){we.setBrightness(e),t(Math.round(e))},onRelease:function(e){x=!1,w({brightness:Math.round(e)})}});y.update(o||100);var b=ge({showBagde:!0,onRelease:function(e){w({volume:Math.round(e)})}});return b.update(a),t("night-light-change","actionCenter",(function(e){f.setActive(e)})),t("brightness-change","actionCenter",(function(e){x||y.update(e)})),t("transparency-change","actionCenter",(function(e){g.setActive(e)})),le({className:"action-center"},[d("div",{className:"action-center-buttons"},[r.element,l.element,c.element,u.element,m.element,h.element,f.element,p.element,g.element]),d("div",{className:"action-center-sliders"},[d("div",{className:"action-center-slider w-full flex items-center"},[d("div",{className:"action-center-slider-icon",innerHTML:Q}),y.element]),d("div",{className:"action-center-slider w-full flex items-center"},[d("div",{className:"action-center-slider-icon",innerHTML:P}),b.element])])])}var be=ye();function ke(e){var t,n,i,r;function l(e){t.toggleShow(),te(e.name)}function c(){n.classList.remove("slide-left"),setTimeout((function(){r&&(r.style.transform="translateX(100%)")}),0)}var u=["mail","github","twitter","vscode","terminal","spotify"].map((function(e){return o[e]}));return t=le({width:(null==e?void 0:e.width)||520,height:(null==e?void 0:e.height)||540,className:"start-menu"},d("div",{className:"w-full h-full flex flex-col"},[i=d("div",{className:"start-menu-content flex flex-col w-full h-full"},[n=d("div",{className:"w-full h-full start-menu-content-home p-30 flex flex-col"},[d("div",{className:"start-menu-pinned-apps flex-1"},[d("div",{className:"start-menu-heading flex items-center"},[d("div",{className:"start-menu-label"},"Pinned"),d("div",{className:"start-menu-button flex content-center items-center",onclick:function(){r&&(r.remove(),r=void 0),r=function(e,t){var n=function(){for(var e=a.sort(s),t={},n=e.length,i=0;i<n;i++){var o=e[i],r=o.name.substring(0,1).toUpperCase();/[A-Z]/.test(r)||(r=/[0-9]/.test(r)?"#":"&"),t[r]||(t[r]=[]),t[r].push(o)}return t}();return d("div",{className:"start-menu-apps-list-container w-full h-full flex flex-col"},[d("div",{className:"start-menu-apps-list-heading flex items-center flex-shrink-0"},[d("div",{className:"start-menu-label",style:{paddingLeft:"20px"}},"All apps"),d("div",{className:"start-menu-button flex content-center items-center",onclick:e},[d("div",{className:"start-menu-button-icon h-full flex content-center items-center",innerHTML:Z}),d("div",{className:"start-menu-button-text"},"Back")])]),d("div",{className:"start-menu-apps-list w-full h-full"},Object.keys(n).map((function(e,i){return d("div",{key:"app-item"+i,className:"start-menu-apps-list-section"},[d("div",{className:"start-menu-apps-list-label flex items-center"},e),d("div",{className:"start-menu-apps-list-items"},n[e].map((function(e,n){return d("div",{key:"app-item"+n,className:"start-menu-apps-list-item flex items-center",onclick:t.bind(null,e)},[d("div",{className:"start-menu-apps-list-item-icon flex-shrink-0",style:{backgroundImage:"url("+e.icon+")"}}),d("div",{className:"start-menu-apps-list-item-name"},d("div",{className:"text-ellipsis"},e.productName))])})))])})))])}(c,l),n.classList.add("slide-left"),i.appendChild(r),setTimeout((function(){r&&(r.style.transform="translateX(0)")}),0)}},[d("div",{className:"start-menu-button-text"},"All apps"),d("div",{className:"start-menu-button-icon h-full flex content-center items-center",innerHTML:X})])]),d("div",{className:"start-menu-pinned-apps-list"},Object.keys(o).filter((function(e){return"settings"!==o[e].name})).map((function(e){var t=o[e];return d("div",{className:"start-menu-pinned-apps-item flex flex-col items-center",onclick:l.bind(null,t)},[d("div",{className:"start-menu-pinned-apps-item-icon",style:{backgroundImage:'url("'+t.icon+'")'}}),d("div",{className:"start-menu-pinned-apps-item-label w-full"},d("div",{title:t.productName,className:"start-menu-pinned-apps-item-label-content text-ellipsis"},t.productName))])})))]),d("div",{className:"start-menu-recommended flex flex-col flex-1"},[d("div",{className:"start-menu-heading flex"},[d("div",{className:"start-menu-label"},"Recommended")]),d("div",{className:"start-menu-recommended-apps-list h-full"},u.map((function(e){return d("div",{className:"start-menu-recommended-apps-item flex items-center",onclick:l.bind(null,e)},[d("div",{className:"start-menu-recommended-apps-item-icon flex-shrink-0",style:{backgroundImage:'url("'+e.icon+'")'}}),d("div",{className:"start-menu-recommended-apps-item-label w-full"},d("div",{title:e.productName,className:"start-menu-recommended-apps-item-label-content text-ellipsis"},e.productName))])})))])])]),d("div",{className:"start-menu-footer flex-shrink-0 flex items-center"},[d("div",{className:"start-menu-user flex items-center"},[d("div",{className:"start-menu-user-icon",style:{backgroundImage:'url("imgs/user.gif")'}}),d("div",{className:"start-menu-user-name"},"chrishtu")]),d("div",{className:"start-menu-footer-right flex"},[d("div",{className:"start-menu-footer-button start-menu-power",innerHTML:F}),d("div",{className:"start-menu-footer-button",innerHTML:V,onclick:function(){te("settings"),t.toggleShow()}})])])]),{onHide:function(){n.classList.remove("slide-left"),setTimeout((function(){r&&(r.style.transform="translateX(100%)",setTimeout((function(){var e;null==(e=r)||e.remove(),r=void 0}),300))}),0)}})}var Ne=ke();function ze(){n("show-desktop-hover")}function Me(){n("show-desktop-out")}function Le(){n("show-desktop")}function Te(){var e,t,i=function(){var e,t=[],i=localStorage.getItem("taskbarItems");if(null==i)t=[{name:"explorer",item:re(o.explorer,{onRemove:a}),pinned:!0},{name:"settings",item:re(o.settings,{onRemove:a}),pinned:!0},{name:"notepad",item:re(o.notepad,{onRemove:a}),pinned:!0}];else try{i&&(i=JSON.parse(i))instanceof Array&&(t=i.map((function(e){return{name:e,item:re(o[e],{onRemove:a}),pinned:!0}})))}catch(e){}function a(){}function s(e){return t.find((function(t){return t.name===e}))}function r(e){t=t.filter((function(t){return t.name!==e}))}function l(e,t,n){e.item.addInstance&&e.item.addInstance(t,n)}return{element:d("div",{className:"w-full h-full flex content-center"},[d("div",{className:"taskbar-app-items h-full flex flex-shrink-0 items-center content-center"},[{name:"startMenu",item:se({isSystemApp:!0,name:"start-menu",productName:"Start",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n<path\n  d="M 3 3 L 11 3 L 11 11 L 3 11 L 3 3 z M 11 13 L 11 21 L 3 21 V 13 L 11 13 z M 13 3 L 21 3 V 11 L 13 11 V 3 z M 21 13 L 21 21 L 13 21 L 13 13 L 21 13 z" />\n</svg>\n',iconType:"svg"},{onclick:function(){n("close-popup",Ne.id),Ne.toggleShow()}})}].map((function(e){return e.item.element}))),e=d("div",{className:"taskbar-app-items h-full flex items-center content-center"},t.map((function(e){return e.item.element})))]),addInstance:function(n,i,a){var r=s(n);if(r)l(r,i,a);else{var c=re(o[n]);l(function(n,i){var o={name:n,item:i};return t.push(o),e.appendChild(i.element),o}(n,c),i,a),t.push({name:n,item:c})}},removeAppItem:r,removeInstance:function(e,t){var n=s(e);n&&(n.item.removeInstance(t),n.item.getInstances().length||(n.pinned?n.item.removeActive(t):(n.item.remove(),r(e))))},setActiveWindow:function(e,t){var n=s(e);n&&n.item.setActive(t)},removeActiveWindow:function(e,t){var n=s(e);n&&n.item.removeActive(t)},getAppItemBounds:function(e){return s(e).item.element.getBoundingClientRect()}}}(),a=d("div",{className:"taskbar fixed bottom w-full",style:{height:"40px"}},d("div",{className:"taskbar-innner flex h-full"},[d("div",{className:"taskbar-left h-full flex-1 flex-shrink-0 flex items-center"},[(t=d("div",{className:"taskbar-item taskbar-date-time taskbar-time h-full flex items-center",onclick:function(){n("close-popup",pe.id),pe.toggleShow()},onmousedown:function(e){return e.stopPropagation()}},he(new Date)),setInterval((function(){t.textContent=he(new Date)}),500),{element:t}).element]),d("div",{className:"taskbar-center flex-2 w-full h-full"},i.element),d("div",{className:"taskbar-right h-full flex-1 flex-shrink-0 relative flex items-center content-end",style:{paddingRight:"6px"}},[d("div",{title:"Show hidden icons",className:"taskbar-item flex items-center content-center flex-shrink-0 taskbar-item-more",innerHTML:Y}),d("div",{className:"taskbar-item flex items-center content-center flex-shrink-0",onmousedown:function(e){return e.stopPropagation()},onclick:function(){n("close-popup",be.id),be.toggleShow()}},[d("div",{className:"flex items-center content-center h-full flex-shrink-0",style:{width:"40px"},innerHTML:P}),d("div",{className:"flex items-center content-center h-full flex-shrink-0",style:{width:"40px"},innerHTML:W}),d("div",{className:"flex items-center content-center h-full flex-shrink-0",style:{width:"40px"},innerHTML:U})]),(e=d("div",{className:"taskbar-item taskbar-date-time taskbar-date h-full flex items-center flex-shrink-0",onclick:function(){n("close-popup",ue.id),ue.toggleShow()},onmousedown:function(e){return e.stopPropagation()}},me(new Date)),setInterval((function(){e.textContent=me(new Date)}),500),{element:e}).element,d("div",{className:"show-desktop flex-shrink-0",onmouseover:ze,onmouseout:Me,onclick:Le})])]));return l(document.body,a),i}var Ce=Te(),Ie=[],De=[],He=[],Ae=!1;function Be(e){for(var t=Ie.length,n=0;n<t;n++)e(Ie[n])}function Se(e){var t,n,i={};if(e.singleInstance){var o=(t=e.name,Ie.find((function(e){return e.appName===t})));if(o)return o.window.executeListeners("secondInstance",e.args),o.window}var a,s,c=1e5,u=x(32),m=!1,h=!1,f=!1,p=!1,v=!1,w=!1,g=!1,y=!1;function b(e,t){var n=i[e];if(n)for(var o=0;o<n.length;o++)n[o](t)}var k=e.title||"",N=function(e,t){var n,i=function(e){var t={};e&&(t.backgroundImage='url("'+e+'")');var n=d("div",{className:"window-titlebar-icon flex content-center items-center flex-shrink-0",style:t});return{element:n,setWindowIcon:function(e){e&&(n.style.backgroundImage='url("'+e+'")')}}}(e.icon),o=function(e,t){var n;return{element:d("div",{className:"window-title flex items-center",ondblclick:e.disableMaximize?null:t},n=d("div",{className:"text-ellipsis"},e.title)),setTitle:function(e){n.textContent=e}}}({title:e.title,disableMaximize:e.disableMaximize},t.onDoubleClick),a=function(e,t){var n=T,i=a(e.isMaximized),o=d("div",{title:i.title,className:"window-titlebar-button window-titlebar-maximize-button flex items-center content-center"+(e.disableMaximize?" disabled":""),innerHTML:i.icon,onclick:t.onMaximizeButtonClick});function a(e){return{title:e?n.window.titlebar.buttons.maximize:n.window.titlebar.buttons.maximizeDown,icon:e?C:I}}return{element:d("div",{className:"window-titlebar-buttons flex items-center"},[d("div",{title:n.window.titlebar.buttons.minimize,className:"window-titlebar-button window-titlebar-minimize-button flex items-center content-center",innerHTML:'\n<svg aria-hidden="true" version="1.1" width="10" height="10">\n<path d="M 0,5 10,5 10,6 0,6 Z"></path>\n</svg>\n',onclick:t.onMinimizeButtonClick}),o,d("div",{title:n.window.titlebar.buttons.close,className:"window-titlebar-button window-titlebar-close-button flex items-center content-center",innerHTML:'\n<svg aria-hidden="true" version="1.1" width="10" height="10">\n<path d="M 0,0 0,0.7 4.3,5 0,9.3 0,10 0.7,10 5,5.7 9.3,10 10,10 10,9.3 5.7,5 10,0.7 10,0 9.3,0 5,4.3 0.7,0 Z"></path>\n</svg>\n',onclick:t.onCloseButtonClick})]),setMaximize:function(e){var t=a(e);o.title=t.title,o.innerHTML=e?C:I}}}({isMaximized:e.maximized,disableMaximize:e.disableMaximize},{onMinimizeButtonClick:t.onMinimizeButtonClick,onMaximizeButtonClick:t.onMaximizeButtonClick,onCloseButtonClick:t.onCloseButtonClick}),s=!1;return n=d("div",{className:"window-titlebar flex items-center"+(e.icon?"":" no-icon")},[i.element,o.element,a.element]),e.autoHide&&(n.addEventListener("mouseover",(function(){s=!0}),!1),n.addEventListener("mouseout",(function(){s=!1}),!1)),{element:n,titleElem:o.element,setIcon:i.setWindowIcon,setTitle:o.setTitle,setMaximize:a.setMaximize,setVisible:function(e){e?n.classList.remove("hidden"):n.classList.add("hidden")},setAutoHide:function(e){e?(n.classList.remove("titlebar-fade-in"),s||(n.classList.add("titlebar-fade-out"),t.onHidden&&t.onHidden())):(n.classList.add("titlebar-fade-in"),n.classList.remove("titlebar-fade-out"),t.onVisible&&t.onVisible())},setPreventHide:function(e){s=e}}}({icon:e.icon,title:e.title,disableMaximize:e.disableMaximize,maximized:e.maximized,autoHide:e.autoHideTitleBar},{onDoubleClick:function(){ae()},onMinimizeButtonClick:function(){we()},onMaximizeButtonClick:function(){ae()},onCloseButtonClick:function(){ge()},onVisible:function(){return b("ontitlebarshow")},onHidden:function(){return b("ontitlebarhide")}}),z={top:0,left:0,width:0,height:0},M={zIndex:c.toString()},L=0,H=0,A=300,B=200,S=!1,E=0;e.keepAspectRatio&&(S=e.keepAspectRatio),e.top&&(L=Number(e.top)),e.left&&(H=Number(e.left)),e.width&&(A=Number(e.width)),e.height&&(B=Number(e.height)),e.center&&(L=Math.round((window.innerHeight-B-40)/2),H=Math.round((window.innerWidth-A)/2)),S&&(E=A/B),M.top=L+"px",M.left=H+"px",M.width=A+"px",M.height=B+"px";var R,j,O,V,W,P,U,F,Y,X,Z,J,K,G="window-content";e.fluidContent&&(G+=" fluid"),e.transprencyContent||(G+=" theme-background");var q,Q,_,$,ee=e.disableResize?" disabled":"";function te(e){l(a,e)}function ne(e){K.contains(e.target)?ue():me()}function ie(){h||(g&&!e.disableMaximize?(ae(),g=!1):(K.offsetTop<0&&(K.style.top="0px"),window.innerHeight-K.offsetTop<69&&(K.style.top=window.innerHeight-69+"px"),K.offsetLeft+K.offsetWidth<30&&(K.style.left="-100px"),window.innerWidth-K.offsetLeft<30&&(K.style.left=window.innerWidth-100+"px"))),b("dragend")}function oe(){e.disableMaximize||(se({top:0,left:0,width:window.innerWidth,height:window.innerHeight-40}),K.classList.add("window-maximized"),b("maximize"))}function ae(){e.disableMaximize||((h=!h)?(z=re(),oe()):e.disableMaximize||(se(z),K.classList.remove("window-maximized"),K.classList.add("window-restore-down"),setTimeout((function(){K.classList.remove("window-restore-down")}),100)),N.setMaximize(h))}function se(t){L=t.top,H=t.left,A=t.width,B=t.height,K.style.top=t.top+"px",K.style.left=t.left+"px",K.style.width=t.width+"px",K.style.height=t.height+"px",e.disableResize||s.setAspectRatio(A/B)}function re(){var e=K.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}function le(){K.style.zIndex=c.toString()}function ce(){c=1e5,le()}function de(){K.classList.remove("top-view")}function ue(){K.focus(),K.classList.add("focus"),de(),p||function(e,t,n){n.restoreZIndex(),function(e){var t=De.findIndex((function(t){return t.id===e.id}));t>-1&&De.splice(t,1),De.push(e)}(n);for(var i=Ie.length,o=0;o<i;o++){var a=Ie[o];a.id!==t&&(a.window.decrementZIndex(),a.window.blur())}}(0,u,n),p=!0,Ce.setActiveWindow(n.name,u),b("focus")}function me(){p=!1,K.classList.remove("focus"),Ce.removeActiveWindow(n.name,u),b("blur")}function he(){K.classList.add("transparent"),m=!0}function fe(){K.classList.remove("transparent"),m=!1}function pe(){K.classList.remove("show"),K.removeEventListener("animationend",pe,!1)}function ve(){K.classList.remove("minimized"),de(),f?(K.classList.add("window-restored"),K.style.transform="translate3d(0px,0px,0px)",setTimeout((function(){K.classList.remove("window-restored"),K.style.removeProperty("transform")}),300)):v||(K.classList.add("show"),K.addEventListener("animationend",pe,!1)),v=!0,f=!1,ce(),h&&oe(),h||K.classList.remove("window-maximized"),b("restore")}function we(){de();var t=Ce.getAppItemBounds(e.name);K.classList.remove("window-restored"),K.classList.remove("show"),K.classList.remove("focus"),K.classList.add("minimized");var n=re();setTimeout((function(){K.style.transform="translate3d("+(t.left-n.left)+"px, "+t.top+"px, 0) scale(0.2)"}),0),v=!1,p=!1,f=!0,Ce.removeActiveWindow(e.name,u),b("minimize")}function ge(){document.removeEventListener("mousedown",ne,!1),K.className="window closing",K.addEventListener("animationend",(function(){N.element.remove(),K.remove(),K=void 0,function(e,t){var n=Ie.findIndex((function(e){return e.id===t}));n>-1&&(Ie.splice(n,1),Ce.removeInstance(e,t)),function(e){var t=De.findIndex((function(t){return t.id===e}));if(t>-1&&(De.splice(t,1),De.length>0)){var n=De[De.length-1];n.isVisible()&&n.focus()}}(t),function(e){var t=He.findIndex((function(t){return t.window.id===e}));t>-1&&He.splice(t,1)}(t)}(e.name,u),b("close")}))}return K=d("div",{tabIndex:-1,className:"window",style:M},[d("div",{className:"window-background absolute w-full h-full"}),d("div",{className:"window-inner relative w-full h-full"},[N.element,d("div",{className:G},a=d("div",{className:"relative w-full h-full"}))]),R=d("div",{"data-resize":"t",className:"window-resize-handle window-resize-horizontal window-resize-top"+ee}),O=d("div",{"data-resize":"b",className:"window-resize-handle window-resize-horizontal window-resize-bottom"+ee}),j=d("div",{"data-resize":"l",className:"window-resize-handle window-resize-vertical window-resize-left"+ee}),V=d("div",{"data-resize":"r",className:"window-resize-handle window-resize-vertical window-resize-right"+ee}),W=d("div",{"data-resize":"tl",className:"window-resize-handle window-resize-conner window-resize-nw window-resize-tl window-resize-tl-v"+ee}),P=d("div",{"data-resize":"tl",className:"window-resize-handle window-resize-conner window-resize-nw window-resize-tl window-resize-tl-h"+ee}),Y=d("div",{"data-resize":"br",className:"window-resize-handle window-resize-conner window-resize-nw window-resize-br window-resize-br-v"+ee}),X=d("div",{"data-resize":"br",className:"window-resize-handle window-resize-conner window-resize-nw window-resize-br window-resize-br-h"+ee}),U=d("div",{"data-resize":"bl",className:"window-resize-handle window-resize-conner window-resize-ne window-resize-bl window-resize-bl-v"+ee}),F=d("div",{"data-resize":"bl",className:"window-resize-handle window-resize-conner window-resize-ne window-resize-bl window-resize-bl-h"+ee}),Z=d("div",{"data-resize":"tr",className:"window-resize-handle window-resize-conner window-resize-ne window-resize-tr window-resize-tr-v"+ee}),J=d("div",{"data-resize":"tr",className:"window-resize-handle window-resize-conner window-resize-ne window-resize-tr window-resize-tr-h"+ee})]),l(document.body,K),e.autoHideTitleBar&&(K.addEventListener("mouseover",(function(){q&&clearTimeout(q),N.setAutoHide(!1),y&&N.setAutoHide(!0)}),!1),K.addEventListener("mouseout",(function(){q&&clearTimeout(q),y&&N.setAutoHide(!0)}),!1),K.addEventListener("mousemove",(function(){q&&clearTimeout(q),N.setAutoHide(!1),q=setTimeout((function(){y&&N.setAutoHide(!0)}),100)}),!1)),e.disableResize||($=[D(Q=K,R,S,E,_={onResizeStart:function(){return b("resizestart")},onResize:function(){return b("resize")},onResizeEnd:function(){b("resizeend"),ie()}}),D(Q,O,S,E,_),D(Q,j,S,E,_),D(Q,V,S,E,_),D(Q,W,S,E,_),D(Q,P,S,E,_),D(Q,U,S,E,_),D(Q,F,S,E,_),D(Q,Y,S,E,_),D(Q,X,S,E,_),D(Q,Z,S,E,_),D(Q,J,S,E,_)],s={setAspectRatio:function(e){for(var t=0;t<$.length;t++)$[t].setAspectRatio(e)},setKeepAspectRatio:function(e){for(var t=0;t<$.length;t++)$[t].setKeepAspectRatio(e)}}),document.addEventListener("mousedown",ne,!1),function(e,t,n){var i=0,o=0,a=0,s=0;function r(e){a=e.clientX,s=e.clientY,document.onmouseup=c,document.onmousemove=l,n&&"function"==typeof n.onDragStart&&n.onDragStart()}function l(t){i=a-t.clientX,o=s-t.clientY,a=t.clientX,s=t.clientY;var r=e.offsetLeft-i;e.style.top=e.offsetTop-o+"px",e.style.left=r+"px",n&&"function"==typeof n.onDrag&&n.onDrag({x:t.clientX,y:t.clientY})}function c(){n&&"function"==typeof n.onDragEnd&&n.onDragEnd(e),document.onmouseup=null,document.onmousemove=null}t?t.onmousedown=r:e.onmousedown=r}(K,N.titleElem,{onDragStart:function(){return b("dragstart")},onDrag:function(e){setTimeout((function(){if(h){var t=Math.round(e.x/window.innerWidth*z.width);se(r({},z,{top:0,left:e.x-t})),N.setMaximize(h=!1),K.classList.remove("window-maximized")}}),0),g=e.y<=0,b("drag",e)},onDragEnd:ie}),n={id:u,name:e.name,element:K,setContent:te,show:ve,hide:we,titlebar:N,setAutoHideTitleBar:function(e){y=e,N.setAutoHide(e)},setIcon:N.setIcon,setTitle:function(e){k=e,N.setTitle(e)},getTitle:function(){return k},setMaximize:N.setMaximize,toggleMaximize:ae,maximize:oe,decrementZIndex:function(){c-=1,le()},restoreZIndex:ce,focus:ue,blur:me,makeTransparent:he,removeTransparent:fe,toggleTransprent:function(){m?fe():he()},toggleFullscreen:function(){(w=!w)?(z=re(),se({top:0,left:0,width:window.innerWidth,height:window.innerHeight}),K.classList.add("fullscreen"),N.setVisible(!1)):(se(z),N.setVisible(!0),K.classList.remove("fullscreen")),b("fullscreen",w)},isMaximized:function(){return h},close:ge,toggleShow:function(){v?we():ve()},isVisible:function(){return v},isFocused:function(){return p},setBounds:se,setSize:function(t){A=t.width,B=t.height,K.style.width=t.width+"px",K.style.height=t.height+"px",e.disableResize||s.setAspectRatio(A/B)},makeCenter:function(){var e,t=Math.round((window.innerHeight-B-40)/2),n=Math.round((window.innerWidth-A)/2);K.style.top=(e={top:t,left:n}).top+"px",K.style.left=e.left+"px"},addEventListener:function(e,t){i[e]||(i[e]=[]),i[e].push(t)},executeListeners:b},"function"==typeof e.content&&te(e.content(n)),function(e,t,n){Ae=!1;for(var i=Ie.length,o=0;o<i;o++){var a=Ie[o];a.window.decrementZIndex(),a.window.blur()}Ie.push({appName:e,id:t,window:n}),Ce.addInstance(e,t,n)}(e.name,u,n),ve(),ue(),n}function Ee(e,t){var n=g(50,200),i=g(50,200);Se({icon:e.icon,name:e.name,title:e.productName,top:n,left:i,width:450,height:300,content:function(){return d("div",{className:"w-full h-full flex content-center items-center"},d("h3",{},"In Progress"))}})}window.addEventListener("resize",(function(){for(var e=Ie.length,t=0;t<e;t++){var n=Ie[t];n.window.isMaximized()&&n.window.maximize()}}),!1),t("view-window","window-manager",(function(e){!function(e){for(var t=Ie.length,n=0;n<t;n++){var i=Ie[n];i.id!==e?i.window.isVisible()&&i.window.makeTransparent():i.window.element.classList.add("top-view")}}(e.id)})),t("restore-view","window-manager",(function(e){!function(e){if(e)for(var t=Ie.length,n=0;n<t;n++){var i=Ie[n];i.id!==e?i.window.isVisible()&&i.window.removeTransparent():i.window.element.classList.remove("top-view")}else for(var o=Ie.length,a=0;a<o;a++){var s=Ie[a];s.window.isVisible()&&s.window.removeTransparent()}}(e.id)})),t("show-desktop-hover","window-manager",(function(){Be((function(e){e.window.isVisible()&&e.window.makeTransparent()}))})),t("show-desktop-out","window-manager",(function(){Be((function(e){e.window.isVisible()&&e.window.removeTransparent()}))})),t("show-desktop","window-manager",(function(){!function(){if(Ae){He.forEach((function(e){e.window.removeTransparent(),e.window.show()}));var e=De[De.length-1];e&&e.isVisible()&&e.focus()}else(He=Ie.filter((function(e){return e.window.isVisible()}))).forEach((function(e){e.window.removeTransparent(),e.window.hide()}));Ae=!Ae}()})),t("blur-all-window","window-manager",(function(){Be((function(e){e.window.blur()}))}));var Re=["Drone Shot of a Church Tower.mp4","The Church of a Mountain Valley Town.mp4","Clouds Over Rocky Mountains.mp4","newyork city at night.mp4","Area Of NewYork City At Night.mp4"];function je(e,t,n){var i;return{element:d("div",{className:"checkbox"},d("label",{type:"checkbox",className:"text"},[i=d("input",{type:"checkbox",className:"checkbox-input",checked:t,onchange:n}),d("div",{className:"checkbox-label"},e)])),setChecked:function(e){i.checked=e}}}function Oe(e){return"imgs/icons/"+e}var Ve={".jpg":{icon:Oe("Pictures file.png"),appName:"photos"},".png":{icon:Oe("Pictures file.png"),appName:"photos"},".mp3":{icon:Oe("Audio file.png"),appName:"photos"},".aac":{icon:Oe("Audio file.png"),appName:"photos"},".ogg":{icon:Oe("Audio file.png"),appName:"photos"},".mp4":{icon:Oe("Videos file.png"),appName:"photos"},".mkv":{icon:Oe("Videos file.png"),appName:"photos"},".webm":{icon:Oe("Videos file.png"),appName:"photos"},".txt":{icon:Oe("Notes.png"),appName:"notepad"}};function We(){var e=d("div",{className:"desktop fade-in"});return l(document.body,e),setTimeout((function(){l(e,function(){function e(e){n("start-process",e)}return d("div",{className:"desktop-app-items fixed top w-full flex flex-col flex-wrap",style:{height:"calc(100% - 40px)"}},[{icon:"imgs/icons/Trash Empty.png",name:"explorer",productName:"Recycle Bin",args:"/trash",type:"app"},r({},o.settings,{type:"app"}),r({},o.notepad,{type:"app"}),r({},o.explorer,{type:"app"}),r({},o.photos,{type:"app"}),r({},o.github,{type:"link",args:"https://github.com/chrishtu/windows11"}),{type:"file",args:"videos/The Church of a Mountain Valley Town.mp4"},{type:"file",args:"videos/Clouds Over Rocky Mountains.mp4"},{type:"file",args:"videos/newyork city at night.mp4"},{type:"file",args:"videos/Area Of NewYork City At Night.mp4"},{type:"file",args:"documents/untitle.txt"}].map((function(t,n){var i=Object.create(null);i.className="desktop-app-item-icon";var o=t.productName;if(i.style=Object.create(null),t.icon&&("svg"===t.iconType?i.innerHTML=t.icon:i.style.backgroundImage='url("'+t.icon+'")'),"file"===t.type){var a=Ve[b(t.args)];a.icon?"svg"===a.iconType?i.innerHTML=a.icon:i.style.backgroundImage='url("'+a.icon+'")':i.style.backgroundImage='url("imgs/icons/Blank.png")',o=k(t.args)}return d("div",{key:"d-i"+n,className:"desktop-app-item",ondblclick:e.bind(null,t)},[d("div",i),d("div",{title:o,className:"desktop-app-item-label"},d("div",{className:"text-ellipsis line-clamp-2"},o))])})))}())}),500),{element:e,setBackgroundImage:function(t){setTimeout((function(){e.classList.remove("fade-in");var n=new Image;n.onload=function(){e.classList.add("fade-in"),e.style.backgroundImage='url("'+t+'")'},n.src=t}),250),w({backgroundImage:t})}}}var Pe=We(),Ue={settings:function(e,n){var i=v(["darktheme","transparency","nightlight"]),o=i.darktheme,a=i.transparency,s=i.nightlight;function r(){z((function(e){o=e}))}function l(e){Pe.setBackgroundImage(e)}Se({icon:e.icon,name:e.name,title:e.productName,singleInstance:!0,top:200,left:300,width:800,height:520,center:!0,content:function(e){e.addEventListener("secondInstance",(function(t){e.isVisible()||e.show(),e.focus()}));var n=je("Dark Theme",o,r);t("theme-change","settings",(function(e){o=e,n.setChecked(e)}));var i=je("Transparency",a,L);t("transparency-change","settings",(function(e){a=e,i.setChecked(e)}));var c=je("Night Light",s,we.toogleNightLight);return t("night-light-change","settings",(function(e){s=e,c.setChecked(e)})),d("div",{className:"w-full h-full p-0-20 scrollable"},[n.element,i.element,c.element,d("div",{className:"w-full divider divider-horizontal",style:{height:"1px",backgroundColor:"var(--border-color)"}}),d("div",{className:"w-full background-selector"},[d("label",{},"Background Image"),d("div",{className:"w-full background-items"},u.map((function(e){return d("div",{className:"background-item"},d("div",{className:"background-item-inner w-full h-full"},d("div",{className:"background-item-image w-full h-full",style:{backgroundImage:'url("'+e.thumbnailPath+'")'},onclick:l.bind(null,e.path)})))})))])])}})},explorer:function(e,t){Se({icon:e.icon,name:e.name,title:e.productName,top:50,left:50,width:800,height:500,transprencyContent:!0,fluidContent:!0,content:function(e){return d("div",{className:"w-full h-full flex"},[d("div",{className:"explorer-sidebar flex-shrink-0 h-full",style:{width:"200px",borderRight:"1px solid var(--border-color)"}},d("div",{className:"standard-content"},d("div",{className:"w-full h-full p-20 text"},[d("div",{},"This PC"),d("button",{onclick:function(){return e.setTitle(Date.now().toString(16))}},"Change title")]))),d("div",{className:"theme-background-primary explorer-content flex-1  h-full"})])}})},notepad:function(e,t){Se({args:t,icon:e.icon,name:e.name,title:e.productName,top:100,left:100,width:600,height:400,content:function(e){var n,i,o,a=d("div",{tabIndex:0,contentEditable:!0,className:"w-full h-full",style:{borderTop:"1px solid var(--border-color)",outline:0,padding:"5px",color:"var(--primary-text-color)",font:"400 14px Consolas",overflow:"auto",cursor:"default"}});return t&&(n=t,i=function(n){e.setTitle(k(t)+" - NotePad"),a.innerText=n},(o=new XMLHttpRequest).onreadystatechange=function(){4===o.readyState&&i(o.responseText)},o.open("get",n),o.send()),e.addEventListener("focus",(function(){setTimeout((function(){a.focus()}),0)})),a}})},word:Ee,powerpoint:Ee,onenote:Ee,mail:Ee,todo:Ee,store:Ee,photos:function(e,t){Se({args:t,name:e.name,title:e.productName,top:100,left:100,width:450,height:300,fluidContent:!0,keepAspectRatio:!0,disableMaximize:!0,singleInstance:!0,center:!0,autoHideTitleBar:!0,content:function(e){var n,i,o,a,s,r=Re[Math.floor(Math.random()*Re.length)];return t&&(r=k(t)),e.setTitle(r),e.element.style.setProperty("--titlebar-text-color","#fff"),e.element.style.setProperty("--window-button-icon-color","#fff"),e.addEventListener("focus",(function(){setTimeout((function(){n.focus()}),0)})),e.addEventListener("ontitlebarshow",(function(){i.classList.remove("hide"),i.classList.add("show")})),e.addEventListener("ontitlebarhide",(function(){i.classList.remove("show"),i.classList.add("hide")})),e.addEventListener("fullscreen",(function(e){n.style.objectFit=e?"contain":"cover"})),e.addEventListener("secondInstance",(function(t){e.isVisible()||e.show(),e.focus(),t&&(n.src=t,n.play(),e.setTitle(k(t)))})),o="videos/"+r,a=function(t){var i={width:t.width,height:t.height},o=window.innerWidth,a=window.innerHeight;i.width>o&&(i.width=Math.round(80*o/100),i.height=Math.round(i.width/t.ratio)),i.height>90*(a-40)/100&&(i.height=Math.round(80*(a-40)/100),i.width=Math.round(i.height*t.ratio)),e.setSize(i),e.makeCenter(),n.play()},(s=document.createElement("video")).onloadedmetadata=function(){a({width:s.videoWidth,height:s.videoHeight,ratio:s.videoWidth/s.videoHeight,duration:s.duration})},s.src=o,d("div",{className:"app-photos w-full h-full"},[n=d("video",{className:"w-full h-full",src:"videos/"+r,controls:!0,style:{objectFit:"cover"},onended:function(){e.setAutoHideTitleBar(!1)},onplay:function(){e.setAutoHideTitleBar(!0)},onpause:function(){e.setAutoHideTitleBar(!1)}}),i=d("div",{className:"video-overlays"},[d("div",{className:"video-overlay video-overlay-top"}),d("div",{className:"video-overlay video-overlay-bottom"}),d("button",{onclick:e.toggleFullscreen,className:"absolute",style:{left:"40px",top:"40px",zIndex:1}},"Toggle fullscreen")])])}})},yourphone:Ee,whiteboard:Ee,calculator:Ee,spotify:Ee,twitter:Ee,vscode:Ee,terminal:Ee,github:Ee,discord:Ee};y&&document.documentElement.classList.add("isWebkit");var Fe=v(["darktheme","transparency","backgroundImage","brightness","nightlight"]);function Ye(e,t){Ue[e](o[e],t)}Fe.darktheme&&N(Fe.darktheme),Fe.transparency&&M(Fe.transparency),Fe.backgroundImage&&Pe.setBackgroundImage(Fe.backgroundImage),Fe.brightness&&we.setBrightness(Fe.brightness||100),Fe.nightlight&&we.setNightLight(Fe.nightlight),t("create-window","index",(function(e){Ye(e.appName,e.args)})),t("start-process","index",(function(e){!function(e){"link"===e.type?window.open(e.args,"_blank"):"app"===e.type?Ye(e.name,e.args):"file"===e.type&&Ye(Ve[b(e.args)].appName,e.args)}(e)}));
//# sourceMappingURL=windows11.cjs.production.min.js.map
